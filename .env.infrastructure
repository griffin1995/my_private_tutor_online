# INFRASTRUCTURE CONFIGURATION - MY PRIVATE TUTOR ONLINE
# Critical infrastructure settings for backup, monitoring, and disaster recovery

# ==========================================
# DATABASE BACKUP CONFIGURATION
# ==========================================
# MongoDB connection string for backups (should have backup user credentials)
MONGODB_BACKUP_URI=mongodb://backup-user:backup-password@localhost:27017/tinacms?authSource=admin

# Primary database name for TinaCMS content
MONGODB_DATABASE=tinacms

# Backup storage configuration
BACKUP_PATH=/var/backups/mongodb
BACKUP_RETENTION_DAYS=30

# Backup scheduling (for production environments)
BACKUP_SCHEDULE_ENABLED=true
BACKUP_FREQUENCY_HOURS=24

# ==========================================
# MONITORING & ALERTING CONFIGURATION
# ==========================================
# Enable/disable monitoring in production
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL_MINUTES=5

# Alert thresholds
ALERT_ERROR_RATE_THRESHOLD=5.0
ALERT_RESPONSE_TIME_THRESHOLD=2000
ALERT_DISK_USAGE_THRESHOLD=85
ALERT_MEMORY_USAGE_THRESHOLD=80
ALERT_BACKUP_AGE_THRESHOLD=26

# ==========================================
# NOTIFICATION CHANNELS
# ==========================================
# Email alerts (comma-separated)
ALERT_EMAILS=admin@myprivatetutoronline.com,tech@myprivatetutoronline.com

# Slack webhook for critical alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Generic webhook for monitoring systems
ALERT_WEBHOOK_URL=https://your-monitoring-system.com/webhook

# SMS alerts for critical issues (comma-separated phone numbers)
ALERT_SMS=+44XXXXXXXXX,+44YYYYYYYYY

# ==========================================
# RECOVERY TIME & POINT OBJECTIVES (RTO/RPO)
# ==========================================
# Recovery Time Objective (minutes) - How quickly we can restore service
RTO_MINUTES=30

# Recovery Point Objective (hours) - Maximum acceptable data loss
RPO_HOURS=24

# ==========================================
# ERROR REPORTING CONFIGURATION
# ==========================================
# Enable error boundary reporting
ERROR_REPORTING_ENABLED=true

# Error log retention (days)
ERROR_LOG_RETENTION_DAYS=90

# Critical error escalation
CRITICAL_ERROR_ESCALATION_ENABLED=true

# ==========================================
# INFRASTRUCTURE SECURITY
# ==========================================
# API keys for external monitoring services
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
DATADOG_API_KEY=your-datadog-api-key
NEWRELIC_LICENSE_KEY=your-newrelic-license-key

# Database monitoring user (read-only access)
DB_MONITOR_USER=monitor
DB_MONITOR_PASSWORD=secure-monitor-password

# ==========================================
# PRODUCTION OVERRIDES
# ==========================================
# Set to 'true' in production to enable all monitoring features
NODE_ENV=production

# Application version for error tracking
npm_package_version=1.0.0

# ==========================================
# DEVELOPMENT OVERRIDES
# ==========================================
# For local development, you can override these settings:
# BACKUP_PATH=./local-backups
# MONITORING_ENABLED=false
# ALERT_EMAILS=developer@localhost
# ERROR_REPORTING_ENABLED=false